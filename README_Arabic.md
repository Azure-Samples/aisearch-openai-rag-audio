# ๐๏ธ Azure OpenAI Realtime API ูุน RAG ู Azure AI Search - ูุณุฎุฉ ุนุฑุจูุฉ ูุญุณููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุชุทุจูู ูุฌูุน ุจูู ููุฉ **Azure OpenAI Realtime API** ูุน **Retrieval-Augmented Generation (RAG)** ุจุงุณุชุฎุฏุงู **Azure AI Search** ูุฅูุดุงุก ุชุฌุฑุจุฉ ูุญุงุฏุซุฉ ุตูุชูุฉ ุฐููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ. ุงูุชุทุจูู ูุตูู ุฎุตูุตุงู ููุชุนุงูู ูุน ุงูุจูุงูุงุช ุงูุนุฑุจูุฉ ููููุฑ ุชุฌุฑุจุฉ ุชูุงุนููุฉ ูุน ุชุดุบูู ูููุงุช ุตูุชูุฉ ูุฎุตุตุฉ.

## ๐ต ูุธุงู ุงูุฃุตูุงุช ุงูุซูุงุซุฉ + Realtime

### ๐ ุชุฏูู ุงูุตูุช (Audio Flow)

```
ุงููุณุชุฎุฏู ูุถุบุท ุงูุฒุฑ ุงูุจููุณุฌู
        โ
๐ต ุชุดุบูู Ran.mp3 (ุตูุช ุงูุจุฏุงูุฉ)
        โ  
๐ ุชุดุบูู between.wav (ุตูุช ุงูุงูุชูุงู)
        โ
๐ค ุชุดุบูู Nancy.wav (ุตูุช ุงูุชุฑุญูุจ)
        โ
๐ ุชูุนูู Azure OpenAI Realtime API
        โ
๐ฌ ุจุฏุก ุงููุญุงุฏุซุฉ ุงูุตูุชูุฉ ุงูุชูุงุนููุฉ
```

### ๐ ูููุงุช ุงูุตูุช ุงููุณุชุฎุฏูุฉ:

| ุงูููู | ุงููุตู | ุงููุฏุฉ | ุงููุธููุฉ |
|-------|-------|-------|---------|
| `Ran.mp3` | ุตูุช ุงูุจุฏุงูุฉ | ~3 ุซูุงูู | ุฅุดุงุฑุฉ ุจุฏุก ุงููุธุงู |
| `between.wav` | ุตูุช ุงูุงูุชูุงู | ~1 ุซุงููุฉ | ูุงุตู ุจูู ุงููุฑุงุญู |
| `Nancy.wav` | ุตูุช ุงูุชุฑุญูุจ | ~2 ุซุงููุฉ | ุชุฑุญูุจ ูุจู ุงููุญุงุฏุซุฉ |

## ๐๏ธ ููุฏุณุฉ ุงููุธุงู (System Architecture)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Frontend (React/TypeScript)                  โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โ  โ   Audio Player  โ โ  Voice Recorder โ โ   Realtime UI   โ   โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                โ
                                โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Backend (Python/aiohttp)                     โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โ  โ   Static Files  โ โ   WebSocket     โ โ   RAG Tools     โ   โ
โ  โ   Audio Server  โ โ   Handler       โ โ   Integration   โ   โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                โ
                                โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     Azure Services Layer                       โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Azure OpenAI   โ โ   Azure AI      โ โ   Knowledge     โ   โ
โ  โ  Realtime API   โ โ   Search        โ โ   Base (Arabic) โ   โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ RAG + Azure AI Search Integration

### ๐ง ููู ูุนูู RAG (Retrieval-Augmented Generation)

```mermaid
graph TD
    A[ูุณุชุฎุฏู ูุณุฃู ุตูุชูุงู] --> B[Azure OpenAI Realtime API]
    B --> C[ุงุณุชุฎุฑุงุฌ ุงููุต ูู ุงูุตูุช]
    C --> D[ุชุญููู ุงูุงุณุชุนูุงู]
    D --> E[ุงูุจุญุซ ูู Azure AI Search]
    E --> F[ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช ุงูุนุฑุจูุฉ]
    F --> G[ุฏูุฌ ุงููุชุงุฆุฌ ูุน ุงูุณูุงู]
    G --> H[ุชูููุฏ ุงูุฅุฌุงุจุฉ]
    H --> I[ุชุญููู ุงููุต ุฅูู ุตูุช]
    I --> J[ุฅุฑุณุงู ุงูุฑุฏ ุงูุตูุชู ูููุณุชุฎุฏู]
```

### ๐ง ุชูููู Azure AI Search

```yaml
# ุฅุนุฏุงุฏุงุช ุงูุจุญุซ ุงูุนุฑุจู
Search Configuration:
  - Index: "new-circls-index"
  - Query Type: "simple" (ุฏุนู ุงููุต ุงูุนุฑุจู)
  - Search Mode: "any" (ุงูุจุญุซ ุจูููุงุช ูุชุนุฏุฏุฉ)
  - Fields:
    * ID: ูุนุฑู ุงูููุชุฌ
    * Name: ุงุณู ุงูููุชุฌ (ุนุฑุจู)
    * ingredients: ุงูููููุงุช (ุนุฑุจู)
    * Price: ุงูุณุนุฑ
```

### ๐ ูููู ุงูุจูุงูุงุช

```json
{
  "ID": 1,
  "Name": "ูุงูุฒููู ูุฑุงุฎ ูุฑุณุจู ูุจูุฑ",
  "ingredients": "ุตูุตู - ูููู - ุฒูุชูู - ููุชุฒุฑููุง - ูุฑุงุฎ ูุฑุณุจู",
  "Price": "180"
}
```

## ๐๏ธ ููููุงุช ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ

### 1. ๐ค **ูุนุงูุฌ ุงูุตูุช (Audio Handler)**
```python
# app/backend/static/audio-processor-worklet.js
- ุชุณุฌูู ุงูุตูุช ูู ุงููุงููุฑูููู
- ูุนุงูุฌุฉ ุงูุฅุดุงุฑุงุช ุงูุตูุชูุฉ
- ุฅุฑุณุงู ุงูุจูุงูุงุช ููู Realtime API
```

### 2. ๐ **WebSocket Integration**
```python
# app/backend/rtmt.py
- ุงุชุตุงู ูุจุงุดุฑ ูุน Azure OpenAI Realtime API
- ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุงูุตูุชูุฉ ูู ุงูููุช ุงููุนูู
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุญุงุฏุซุฉ
```

### 3. ๐ **RAG Tools**
```python
# app/backend/ragtools.py
class SearchTool:
    - ุงูุจุญุซ ูู Azure AI Search
    - ูุนุงูุฌุฉ ุงููุชุงุฆุฌ ุงูุนุฑุจูุฉ
    - ุชูุณูู ุงูุจูุงูุงุช ููุนุฑุถ
    - ุฏุนู ุงูุงูุชุฑุงุญุงุช ุงูุฐููุฉ
```

### 4. ๐ **Frontend Interface**
```typescript
// app/frontend/src/components/
- ูุงุฌูุฉ React ุชูุงุนููุฉ
- ูุดุบู ุงูุตูุช ุงููุฎุตุต
- ูุณุฌู ุงูุตูุช
- ุนุฑุถ ุงููุชุงุฆุฌ ูู ุงูููุช ุงููุนูู
```

## ๐ ุงูุชุดุบูู ูุงูุงุณุชุฎุฏุงู

### ๐ ุงููุชุทูุจุงุช
- Python 3.12+
- Node.js 18+
- Azure OpenAI Realtime API
- Azure AI Search
- ููุงุชูุญ Azure ุตุงูุญุฉ

### โ๏ธ ุงูุชุซุจูุช

```bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone https://github.com/AliArabi55/aisearch-openai-rag-audio
cd aisearch-openai-rag-audio

# 2. ุชุซุจูุช ุงูููุชุจุงุช ุงูุฎูููุฉ
cd app/backend
pip install -r requirements.txt

# 3. ุชุซุจูุช ุงูููุชุจุงุช ุงูุฃูุงููุฉ  
cd ../frontend
npm install
npm run build

# 4. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
cp .env.example .env
# ุนุฏูู ุงูููู ุจููุงุชูุญ Azure ุงูุฎุงุตุฉ ุจู
```

### ๐ฏ ุงูุชุดุบูู

```bash
# ูู ูุฌูุฏ app/backend
python app.py
```

ุซู ุงูุชุญ: `http://localhost:8765`

### ๐ฎ ููููุฉ ุงูุงุณุชุฎุฏุงู

1. **ุงุถุบุท ุงูุฒุฑ ุงูุจููุณุฌู** ๐ฃ
2. **ุงูุชุธุฑ ุชุดุบูู ุงูุฃุตูุงุช ุงูุซูุงุซุฉ** ๐ต
3. **ุงุจุฏุฃ ุงูุญุฏูุซ** ุนูุฏูุง ุชุธูุฑ ุฅุดุงุฑุฉ ุงูุงุณุชุนุฏุงุฏ
4. **ุงุณุฃู ุนู ุงูููุชุฌุงุช** ูุซู: "ุฃุจุญุซ ุนู ุจูุชุฒุง ูุฑุงุฎ ูุฑุณุจู"
5. **ุงุญุตู ุนูู ุฅุฌุงุจุงุช ููุฑูุฉ** ูุน ุงูุชูุงุตูู ูุงูุฃุณุนุงุฑ

## ๐ง ุงูููุฒุงุช ุงููุชูุฏูุฉ

### ๐ฏ ุงูุจุญุซ ุงูุฐูู
- **ุจุญุซ ุนุฑุจู ูุจุงุดุฑ** ุจุฏูู ุชุฑุฌูุฉ
- **ุจุญุซ ุฌุฒุฆู** (ูุฑุณุจูุ ูุฑุงุฎุ ุจูุชุฒุง)
- **ุงูุชุฑุงุญุงุช ุชููุงุฆูุฉ** ุนูุฏ ุนุฏู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ
- **ุนุฑุถ ููุธู** ูููุชุงุฆุฌ ูุน ุงูุฃุณุนุงุฑ

### ๐ ุฅุฏุงุฑุฉ ุงูุตูุช
- **ุชุณูุณู ุตูุชู ูุชูู** (3 ูุฑุงุญู)
- **ุฌูุฏุฉ ุตูุช ุนุงููุฉ** 
- **ุงุณุชุฌุงุจุฉ ููุฑูุฉ** ููุฃูุงูุฑ ุงูุตูุชูุฉ
- **ุฏุนู ุงูุนุฑุจูุฉ ุงููุงููุฉ** ูู ุงููุญุงุฏุซุฉ

### ๐ฑ ูุงุฌูุฉ ุชูุงุนููุฉ
- **ุชุตููู ุนุตุฑู** ููุชุฌุงูุจ
- **ูุคุดุฑุงุช ุจุตุฑูุฉ** ูุญุงูุฉ ุงููุธุงู
- **ุนุฑุถ ุงููุชุงุฆุฌ** ูู ุงูููุช ุงููุนูู
- **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**

## ๐ฌ ุงูุชูุงุตูู ุงูุชูููุฉ

### ๐ ุชุฏูู ุงูุจูุงูุงุช (Data Flow)

```
ุงููุณุชุฎุฏู โ ุงููุงููุฑูููู โ Audio Worklet โ WebSocket โ 
Azure Realtime API โ RAG Tools โ Azure Search โ 
ูุนุงูุฌุฉ ุงููุชุงุฆุฌ โ ุฅูุชุงุฌ ุงูุตูุช โ ุงููุณุชุฎุฏู
```

### ๐ ุงูุฃูุงู ูุงููุตุงุฏูุฉ
- ููุงุชูุญ Azure ุขููุฉ
- ุงุชุตุงู ูุดูุฑ HTTPS/WSS
- ุญูุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- ุชูููุฏ ุงููุตูู ููููุงุฑุฏ

### โก ุงูุฃุฏุงุก ูุงูุชุญุณูู
- **ุงุณุชุฌุงุจุฉ ููุฑูุฉ**: < 200ms ููุจุญุซ
- **ูุนุงูุฌุฉ ูุชูุงุฒูุฉ** ููุตูุช ูุงูุจูุงูุงุช
- **ุฐุงูุฑุฉ ูุญุณููุฉ** ูุญูุธ ุงูุณูุงู
- **ุงุณุชููุงู ููุงุฑุฏ ููุฎูุถ**

## ๐ง ุฅุนุฏุงุฏุงุช ุงูุชุทููุฑ

### ๐ ูููู ุงููุดุฑูุน
```
aisearch-openai-rag-audio/
โโโ app/
โ   โโโ backend/          # ุฎุงุฏู Python
โ   โ   โโโ app.py       # ุชุทุจูู ุฑุฆูุณู
โ   โ   โโโ ragtools.py  # ุฃุฏูุงุช RAG
โ   โ   โโโ static/      # ูููุงุช ุงูุตูุช
โ   โโโ frontend/        # ูุงุฌูุฉ React
โโโ data/               # ุจูุงูุงุช ุชุฌุฑูุจูุฉ
โโโ infra/             # Azure Infrastructure
```

### ๐ ุฏูุฑุฉ ุงูุชุทููุฑ
1. **ุชุทููุฑ ุงูุฎูููุฉ**: Python + aiohttp
2. **ุชุทููุฑ ุงููุงุฌูุฉ**: React + TypeScript
3. **ุงุฎุชุจุงุฑ ุงูุชูุงูู**: Azure Services
4. **ุงููุดุฑ**: Azure Container Apps

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ๐ ูุทุนู ุฐูู
- ุทูุจ ุงูุทุนุงู ุจุงูุตูุช
- ุงูุจุญุซ ูู ุงููุงุฆูุฉ
- ุงูุญุตูู ุนูู ุงูุฃุณุนุงุฑ ูุงูููููุงุช

### ๐ ูุชุฌุฑ ุฅููุชุฑููู
- ุงูุจุญุซ ุงูุตูุชู ูู ุงูููุชุฌุงุช
- ูุณุงุนุฏ ุชุณูู ุฐูู
- ุฏุนู ุนููุงุก ุชูุงุนูู

### ๐ ูุธุงู ูุนูููุงุช
- ุงุณุชุนูุงูุงุช ุตูุชูุฉ
- ุจุญุซ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ
- ุฅุฌุงุจุงุช ููุฑูุฉ ูุฏูููุฉ

## ๐ ุงููุณุชูุจู ูุงูุชุทููุฑ

### ๐ฎ ููุฒุงุช ูุณุชูุจููุฉ
- [ ] ุฏุนู ูุบุงุช ูุชุนุฏุฏุฉ
- [ ] ุชุญููู ุงููุดุงุนุฑ ุงูุตูุชูุฉ
- [ ] ุฐูุงุก ุงุตุทูุงุนู ูุญูู
- [ ] ุชุฎุตูุต ุงูุฃุตูุงุช

### ๐ ุงูุชุญุณููุงุช ุงููุฎุทุทุฉ
- [ ] ุณุฑุนุฉ ุงุณุชุฌุงุจุฉ ุฃูุจุฑ
- [ ] ุฏูุฉ ุจุญุซ ูุญุณููุฉ
- [ ] ูุงุฌูุฉ ูุณุชุฎุฏู ูุชูุฏูุฉ
- [ ] ุชุญูููุงุช ููุตูุฉ

## ๐ฅ ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชูู! 

### ๐ง ููููุฉ ุงููุณุงููุฉ
1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ุฌุฏูุฏ
3. ุงุนูู ุงูุชุญุณููุงุช
4. ุฃุฑุณู Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุฑุงุฌุน ููู [LICENSE](LICENSE) ููุชูุงุตูู.

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ๐ง ุงูุชูุงุตู
- **GitHub Issues**: ูุจูุงุบ ุงูุฃุฎุทุงุก
- **Discussions**: ููุฃุณุฆูุฉ ุงูุนุงูุฉ
- **Documentation**: ููุชูุงุตูู ุงูุชูููุฉ

### ๐ง ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

| ุงููุดููุฉ | ุงูุญู |
|---------|------|
| ูุง ูุนูู ุงูุตูุช | ุชุญูู ูู ุฅุฐู ุงููุงููุฑูููู |
| ุฎุทุฃ Azure | ุชุฃูุฏ ูู ููุงุชูุญ API |
| ุจุทุก ุงูุจุญุซ | ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช |

---

## ๐ ุดูุฑ ุฎุงุต

ุดูุฑุงู ููุฑูู Azure OpenAI ุนูู ุงูู Realtime API ุงูุฑุงุฆุนุ ูููุฌุชูุน ุงููุทูุฑูู ุงูุนุฑุจ ุนูู ุงูุฏุนู ุงููุณุชูุฑ.

**ุตููุน ุจู โค๏ธ ูููุฌุชูุน ุงูุนุฑุจู** ๐ฆ๐ช

---

*ุขุฎุฑ ุชุญุฏูุซ: ุณุจุชูุจุฑ 2025*
